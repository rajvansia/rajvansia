<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spark Streaming Kafka; Raj Vansia</title>
  <!--[if lt IE 9]><script src='https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js'></script><![endif]-->

  <link rel="stylesheet" href="/assets/normalize.css">
<link rel="stylesheet" href="/assets/core.css">
<link rel="stylesheet" href="/assets/buttons.css">
<link rel="stylesheet" href="/assets/icons.css">
<link rel="stylesheet" href="/assets/article.css">
<link rel="stylesheet" href="/assets/contact_form.css">
<link rel="stylesheet" href="/assets/syntax.css">
<link rel="stylesheet" href="/assets/google_map_container.css">
<link rel="stylesheet" href="/assets/cover.css">
<link rel="stylesheet" href="/assets/pagination.css">
<link rel="stylesheet" href="/assets/site_header.css">
<link rel="stylesheet" href="/assets/site_footer.css">
<link rel="stylesheet" href="/assets/responsive.css">
<link rel="stylesheet" href="/assets/app.css">
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!--
<script src="/assets/google_map_fix.js"></script>
<script src="/assets/zoomable_image.js"></script> -->
<script src="/assets/app.js"></script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>






<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
<link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <meta name="title" content="Spark Streaming Kafka">


  <meta property="og:description" content="health Data pghd fitbit"/>
  <meta name="description" content="The Patient Generated Health Data Deluge "/>

  <meta property="og:site_name" content="Raj Vansia">
</head>
<body>

  <header class="site-header">
    <nav>
      <a class="brand" href="/">
        <img src="/images/logo.png" alt="Inc">
      </a>
      <a href="/">Blog</a>
      <a href="/about">About</a>
    </nav>
  </header>

<article >

  <div class="container">
    <header>
      <div class="meta">
        By <address><a rel="author" href="" title="Raj Vansia" target="_blank">Raj Vansia</a></address> &mdash;
        <time pubdate datetime="2017-14-March" title="Mar 14, 2017">Mar 14, 2017</time> &mdash;
        
5 min read
      </div>
      <h1 class="title">Spark Kafka Streaming Setup</h1>
      <h2 class="subtitle"></h2>
    </header>

    <section>
      <h2 id="how-to-run-a-spark-streaming-kafka-word-count-example">How to Setup a Spark streaming Kafka Word Count example.</h2>

<p>This will be a quick setup guide on how to run the Spark Kafka streaming example. The Kafka streaming example does not work right out of the box because Spark does not come with the org.apache.spark.streaming.kafka010 package. For this example we will be using Spark 2.0.2 and Kafka 10.1.0. 
This tutorial assumes that you have Spark and Kafka already installed.</p>

<p>The word count example provided is a basic application that will count the occurrence of a word within a time window from a Kafka publish source. Spark will act as the subscriber and count all the words that come through from Kafka.</p>

<h2 id="setup-a-basic-kafka-producer-and-consumer">Setup a basic Kafka producer and consumer.</h2>

<p>Our Kafka topic will be vitals. You can spin up a consumer to make sure that its working. Just subscribe to the vitals topic. Great now we know that our Kafka producer is working over that port and we should now be able to subscribe to these topics from our spark application and perform a word count.</p>

<h2 id="ways-to-include-the-spark-kafka-stearming-package">2 ways to include the Spark Kafka Stearming package</h2>
<p>You need to reference the package or else you will get a class not found error for Streaming.KafkaUtils. This is because Spark does not come with this pacakge.  One way is to submit the jar when you enter spark submit. Secondly you can create an uber Jar with the streaming</p>

      
<div class="social">
  
  <div class='twitter'>
    <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Spark Kafka Streaming Setup" data-related="rajvansia">Tweet</a>
  </div>
  

  
  <div class='facebook'>
    <div class="fb-share-button" data-layout="button_count"></div>
  </div>
  

  
    
  

  
  <div class='reddit'>
    <a href="//www.reddit.com/submit" onclick="window.open('//www.reddit.com/submit?url=https://rajvansia.com/Spark-Streaming-Kafka-Setup/&title=Spark+Kafka+Streaming+Setup'); return false"> <img src="//www.redditstatic.com/spreddit7.gif" alt="submit to reddit" border="0" /> </a>
  </div>
  
</div>

    </section>

    <footer>
      <address>
        <img src="/images/rajv.PNG">
        <p>Written by <strong><a rel="author" href="https://twitter.com/rajvansia" title="" target="_blank">Raj Vansia</a></strong><br>
          <span class="muted">Biomedical Engineer IoT</span>
        </p>
      </address>
       
      
      
      <section>
        <div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'rajvansia';

  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
      </section>
      
    </footer>
  </div>
</article>


<footer class="site-footer">
  <div class="container">
    &copy; 2015 Raj Vansia

    <nav>
      <a href="/">Blog</a> &middot;
      <a href="/about">About</a>
    </nav>



    <ul class="social-networks bounce">
      <!-- <li><a href="https://www.linkedin.com/in/rajvansia" class="icon-linkedin">LinkedIn</a></li>
      <li><a href="https://twitter.com/rajvansia" class="icon-twitter">Twitter</a></li>
      <li><a href="https://facebook.com/raj.vansia" class="icon-facebook">Facebook</a></li>
       -->
       <li><a href="https://www.linkedin.com/in/rajvansia" class="icon-linkedin">LinkedIn</a></li>
        <li><a href="https://github.com/rajvansia" class="icon-github">GitHub</a></li>
        <li><a href="https://facebook.com/raj.vansia" class="icon-facebook">Facebook</a></li>
      <!-- <li><a href="https://twitch.tv" class="icon-twitch">Twitch</a></li>
      <li><a href="https://github.com" class="icon-github">GitHub</a></li>
      <li><a href="https://pinterest.com" class="icon-pinterest">Pinterest</a></li>
      <li><a href="https://instagram.com" class="icon-instagram">Instagram</a></li>
      <li><a href="https://vimeo.com" class="icon-vimeo">Vimeo</a></li> -->
    </ul>
    <div>Based on Incorporated theme by <a href="https://sendtoinc.com">Inc</a></div>
  </div>
</footer>

</body>
</html>
